nameOverride: &name alertmanager
fullnameOverride: *name
ipFamilyPolicy: SingleStack
ipFamilies:
  - IPv4
cleanPrometheusOperatorObjectNames: true
alertmanager:
  annotations:
    reloader.stakater.com/auto: "true"
  priorityClassName: observability-critical
  service:
    annotations:
      tailscale.com/expose: "true"
      tailscale.com/hostname: alertmanager
      tailscale.com/tags: "tag:observability"
  route:
    main:
      enabled: true
      hostnames:
        - alertmanager.${ROOT_DOMAIN}
      parentRefs:
        - name: internal
          namespace: network
          kind: Gateway
      filters:
        - type: ExtensionRef
          extensionRef:
            group: traefik.io
            kind: Middleware
            name: authenticated-user

  alertmanagerSpec:
    replicas: 1
    alertmanagerConfiguration:
      name: alertmanager
    # alertmanagerConfiguration:
    #   name: alertmanager
    #   global:
    #     resolvetimeout: 10m
    externalUrl: https://alertmanager.${ROOT_DOMAIN}
    storage:
      volumeClaimTemplate:
        spec:
          storageClassName: longhorn
          resources:
            requests:
              storage: 1Gi

grafana:
  enabled: false

kubeEtcd: &disabled
  enabled: false
crds: *disabled
kubernetesServiceMonitors: *disabled
kubeProxy: *disabled
kubeApiServer: *disabled
prometheus: *disabled
prometheus-node-exporter: *disabled
kube-state-metrics: *disabled
kubeControllerManager: *disabled
coreDns: *disabled
kubelet: *disabled
kubeScheduler: *disabled
kubeStateMetrics: *disabled
nodeExporter: *disabled
prometheusOperator: *disabled
